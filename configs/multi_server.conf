# Server 1: Marketing Site
server {
    listen 80;
    server_name example.com;
    root /var/www/marketing;
    index index.html;
    
    location /images {
        root /var/www/media;
        autoindex on;
    }
}

# Server 2: App API
server {
    listen 8080;
    server_name api.example.com;
    root /var/www/api;
    client_max_body_size 5000000;

    location /v1 {
        allow_methods GET;
        index api_doc.html;
    }

    location /admin {
        allow_methods POST DELETE;
        root /secure/admin;
        # Valid: Location can have its own error page
        error_page 403 /forbidden.html; 
    }
}
